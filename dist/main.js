!function(e){var t={};function s(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(i,o,function(t){return e[t]}.bind(null,o));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t){const s=100;var i={type:Phaser.AUTO,parent:"phaser-example",width:1100,height:1100,physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}},scene:{preload:function(){this.load.image("ship","assets/spaceShips_001.png"),this.load.image("otherPlayer","assets/enemyBlack5.png"),this.load.image("star","assets/star_gold.png"),this.load.spritesheet("rocks","assets/sprites/RockTile.png",192,192)},create:function(){var e=this;this.socket=io(),this.otherPlayers=this.physics.add.group(),this.socket.on("currentPlayers",function(t){Object.keys(t).forEach(function(i){t[i].playerId===e.socket.id?function(e,t){e.ship=e.physics.add.sprite(t.x,t.y,"ship").setOrigin(.5,.5).setDisplaySize(53,40),e.ship.move=((t,i)=>{"up"===i?e.ship.body.y-=s:"left"===i?e.ship.body.x-=s:"down"==i?e.ship.body.y+=s:"right"==i&&(e.ship.body.x+=s),o=t}),e.ship.moveUp=(t=>{e.ship.move(t,"up")}),e.ship.moveLeft=(t=>{e.ship.move(t,"left")}),e.ship.moveDown=(t=>{e.ship.move(t,"down")}),e.ship.moveRight=(t=>{e.ship.move(t,"right")}),"blue"===t.team?e.ship.setTint(255):e.ship.setTint(16711680)}(e,t[i]):addOtherPlayers(e,t[i])})}),this.socket.on("newPlayer",function(t){addOtherPlayers(e,t)}),this.socket.on("disconnect",function(t){e.otherPlayers.getChildren().forEach(function(e){t===e.playerId&&e.destroy()})}),this.socket.on("playerMoved",function(t){e.otherPlayers.getChildren().forEach(function(e){t.playerId===e.playerId&&e.setPosition(t.x,t.y)})}),this.cursors=this.input.keyboard.createCursorKeys(),e.upKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),e.leftKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),e.downKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),e.rightKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.blueScoreText=this.add.text(16,16,"",{fontSize:"32px",fill:"#0000FF"}),this.socket.on("scoreUpdate",function(t){e.blueScoreText.setText("CoinCount: "+t.blue)}),this.socket.on("starLocation",function(t){e.star&&e.star.destroy(),e.star=e.physics.add.image(t.x,t.y,"star"),e.physics.add.overlap(e.ship,e.star,function(){this.socket.emit("starCollected")},null,e)}),e.physics.add.image(0,0,"rocks")},update:function(e,t){if(this.ship){e>o+r&&(this.cursors.up.isDown||this.upKey.isDown?this.ship.moveUp(e):this.cursors.left.isDown||this.leftKey.isDown?this.ship.moveLeft(e):this.cursors.down.isDown||this.downKey.isDown?this.ship.moveDown(e):(this.cursors.right.isDown||this.rightKey.isDown)&&this.ship.moveRight(e)),this.physics.world.wrap(this.ship,5);var s=this.ship.x,i=this.ship.y;!this.ship.oldPosition||s===this.ship.oldPosition.x&&i===this.ship.oldPosition.y||this.socket.emit("playerMovement",{x:this.ship.x,y:this.ship.y}),this.ship.oldPosition={x:this.ship.x,y:this.ship.y}}}}},o=(new Phaser.Game(i),0),r=100}]);